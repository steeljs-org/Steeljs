!function(a,b){function c(){var b=a.console;if(Ab&&b){var c=arguments;if(h("^("+Tb.slice(Tb.indexOf(Ub))+")").test(c[0])){for(var d=[],e=0,f=c.length;f>e;++e)d.push("arguments["+e+"]");new Function("console.log("+d.join(",")+")").apply(this,c)}}}function d(){}function e(a){return Eb.getElementById(a)}function f(a,b){return(b||Eb).getElementsByTagName(a)}function g(){return Date.now?Date.now():+new Date}function h(b,c){return new a.RegExp(b,c)}function i(a){for(var b=k(a),c=0,d=ec.length;d>c;++c)ec[c](b,a)}function j(a){ec.push(a)}function k(a){return function(b,c){return b in a?a[b]:c}}function l(a){var b=/^(?:([a-z]+:)?(\/{2,3})([0-9.\-a-z-]+)(?::(\d+))?)?(\/?[^?#]*)?(?:\?([^#]*))?(?:#(.*))?$/i,c=["url","protocol","slash","host","port","path","query","hash"],d=b.exec(a),e={};if(!d)throw'parseURL:"'+a+'" is wrong!';for(var f=0,g=c.length;g>f;f+=1)e[c[f]]=d[f]||"";return e.host&&(e.protocol=e.protocol||Lb.protocol,e.port=e.port||80),e.port&&(e.port=Jb(e.port)),e.path=e.path.replace(/\/+/g,"/")||"/",e}function m(a){for(var b=a.split("&"),c={},d=0,e=b.length;e>d;++d)if(b[d]){var f=b[d].split("="),g=f[0],h=f[1]||"";c[g]=c[g]?[].concat(c[g],h):h}return c}function n(a){return null===a?"":Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}function o(a){var b=[];for(var c in a)if("array"===n(a[c]))for(var d=0,e=a[c].length;e>d;++d)b.push(c+"="+a[c][d]);else b.push(c+"="+a[c]);return b.join("&")}function p(a){return"string"===n(a)}function q(a,b,c){if(p(b))a[b]=c;else for(var d in b)a[d]=b[d];return a}function r(a){return/^([a-z]+:)?\/\/\w+/i.test(a)}function s(a,b){a=a||".";var c,d=l(a);0!==d.path.indexOf("/")&&(a=s(Lb.href,a),d=l(a)),d.protocol?c=d.protocol+"//"+d.host+(80===d.port?"":":"+d.port):(c=Lb.origin,a=c+a);var e=c+"/",f=d.path;if(f=c+(0===f.indexOf("/")?"":"/")+f.slice(0,f.lastIndexOf("/")+1),r(b))return b;if("/"===b)return e;if("."===b||""===b)return a;if(0===b.indexOf("./"))return b=b.replace(/^\.\//,""),f+b;if(".."===b)return b=b.replace(/\.\./,""),f=t(f),f+b;if(0===b.indexOf("?"))return c+d.path+b;if(0===b.indexOf("&"))return c+d.path+"?"+o(q(m(d.query),m(b)));if(/^\/[^\/]+/.test(b))return c+b;for(;0===b.indexOf("../");){if(e===f){b=b.replace(/(\.\.\/)/g,""),f=e;break}b=b.replace(/^\.\.\//,""),f=t(f)}return f+b}function t(a){return a="/"===a.charAt(a.length-1)?a.slice(0,a.length-1):a,a.slice(0,a.lastIndexOf("/")+1)}function u(a,b,c){var d,e={};b=b||{};for(d in a)e[d]=a[d],null!=b[d]&&(c?a.hasOwnProperty(d)&&(e[d]=b[d]):e[d]=b[d]);return e}function v(a,b){var c=u({isEncodeQuery:!1,isEncodeHash:!1},b||{}),d={},e=l(a),f=m(e.query),g=m(e.hash);return d.setParam=function(a,b){return f[a]=b,this},d.getParam=function(a){return f[a]},d.setParams=function(a){for(var b in a)d.setParam(b,a[b]);return this},d.setHash=function(a,b){return g[a]=b,this},d.getHash=function(a){return g[a]},d.valueOf=d.toString=function(){var a=[],b=o(f,c.isEncodeQuery),d=o(g,c.isEncodeQuery);return e.protocol&&(a.push(e.protocol),a.push(e.slash)),""!=e.host&&(a.push(e.host),""!=e.port&&(a.push(":"),a.push(e.port))),a.push(e.path),""!=b&&a.push("?"+b),""!=d&&a.push("#"+d),a.join("")},d}function w(){return nc+mc++}function x(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;d>c;++c)if(b[c]===a)return c;return-1}function y(a){return pc[a]||(pc[a]=[])}function z(a,b){y(a).unshift(b)}function A(a,b){var c,d,e=y(a);b?(c=x(b,e))>-1&&(d=1):(c=0,d=e.length),d&&e.splice(c,d)}function B(a,c){var d=y(a);c=[].concat(c||[]);for(var e=d.length-1;e>-1;e--)try{d[e]&&d[e].apply(b,c)}catch(f){a!=Vb&&B(Vb,["[error][notice]["+a+"]",f])}}function C(a){return"number"===n(a)}function D(a){return"object"===n(a)}function E(a){var b=/^[^:]+:\/\/[^\/]+\//,c=Lb.href.match(b),d=a.match(b);return(c&&c[0])===(d&&d[0])}function F(a,c,d){for(var e={},f=0,g=d.length,h=0,i=a.length;i>h;++h){var j=a[h];if(j!==b&&null!==j){for(;g>f;++f)if(n(j)===d[f]){e[c[f]]=j,++f;break}if(f>=g)break}}return e}function G(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function H(a){a=a||Lb.toString();var b=l(a);return b}function I(a){for(var b=D(a)?a:H(a),c=b.path,d=0,e=rc.length;e>d;d++){var f,g=rc[d];if(f=g.pathRegexp.exec(c)){for(var h,i,j,k=g.keys,l={},m=0,n=1,e=f.length;e>n;++n)i=k[n-1],h=i?i.name:m++,j=decodeURIComponent(f[n]),l[h]=j;return{config:g.config,param:l}}}}function J(a){R(wc,L()+1),history.pushState(O(),b,a),M()}function K(a){history.replaceState(cc,b,a)}function L(){return P(wc,0)}function M(){dc={},cc=N()}function N(){return D(history.state)?history.state:{}}function O(){return dc}function P(a,c){return cc=N(),a in cc?cc[a]:c!==b?(Q(a,c),c):void 0}function Q(a,b){cc={};var c=history.state;if(c)for(var d in c)cc[d]=c[d];q(cc,a,b),K(Lb.href)}function R(a,b){q(dc,a,b)}function S(a){return w()}function T(a){try{return[].slice.call(a)}catch(b){for(var c,d=0,e=[];c=a[d];)e[d++]=c;return e}}function U(){c(arguments),B("renderError",T(arguments))}function V(a,b){return a.getAttribute(b)}function W(a){var b=a;if("array"===n(a)){b=[];for(var c=a.length;c--;)b[c]=W(a[c])}else if("object"===n(a)){b={};for(var d in a)b[d]=W(a[d])}return b}function X(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Y(a){var b,c=Nc[a.boxId],d=a.logic,e=null,f=null;if(a.logicReady=!1,a.logicFn=null,a.logicRunned=!1,d)if("function"===n(d))a.logicFn=d,Z(a);else{var h=b=function(d){h===b&&(f=g(),B("logicTime",{startTime:e,logicTime:f-e||0,ctrlNS:c}),d&&(a.logicFn=d),Z(a))};e=g(),lb(d,h,U,c)}}function Z(a){a.logicReady=!0,$(a)}function $(a){var b,d=a.boxId,f=e(d),g=Mc[d],h=a.real_data||{};if(!a.logicRunned&&a.logicFn&&a.logicReady&&a.rendered){if(Ab)b=a.logicFn(f,h,g)||{};else try{b=a.logicFn(f,h,g)||{}}catch(i){c("Error: run logic error:",a.logic,i)}a.logicResult=b,a.logicRunned=!0}}function _(a){a.logicRunned=!1;var d=a.logicResult;if(d){if(Ab)d.destroy&&d.destroy();else try{d.destroy&&d.destroy()}catch(e){c("Error: destroy logic error:",a.logic,e)}a.logicResult=b}}function aa(a){return Eb.createElement(a)}function ba(a,b,c){return a.setAttribute(b,c)}function ca(a,b){if(a=a||{},"string"==typeof a){var c={};c[a]=!0,a=c}for(var d in a)da(d,b)}function da(a,b){var c=Oc[a],d=Mc[a],e=Nc[a];b||(d&&(d._destroy(),delete Mc[a]),e&&delete Nc[a]),c&&(_(c),za(c),ca(c.childrenid),delete Oc[a])}function ea(a){a.target=a.target||a.srcElement}function fa(){return e(Ac||Bb&&Bb.id)}function ga(){var a,b=Ac||Bb&&Bb.id;return Tc&&(a=Oc[b]&&Oc[b].stageScrollId)?e(a):void 0}function ha(){pa(),ia()}function ia(){function a(a){var b=a.changedTouches[0];f=i,h=j,i=b.clientX,j=b.clientY}function c(a){yc&&(a.preventDefault(),a.stopPropagation())}if(Tc){var d,e,f,h,i,j,k,l;vc(Fb,"touchstart",function(f){ea(f),c(f),Bc=!0,Dc=!1,Cc=g(),Fc=b,Gc=b,xc&&f.preventDefault(),a(f),d=i,e=j,Ob&&(k=ed.test(f.target.tagName),k||(zc=!1,qa()))});vc(Fb,"touchmove",function(b){a(b),Dc=!0,Ec=g(),xc&&b.preventDefault()}),vc(Fb,"touchend",function(a){ea(a),c(a),(l&&g()-l<300||xc)&&a.preventDefault(),Fc=!0,Gc=l=g(),Ob&&k&&ed.test(a.target.tagName)&&(zc=!0,qa())}),vc(Fb,"click",c)}}function ja(){if(Ob&&Bc&&Dc){if(!Fc)return!0;if(g()-Gc<377)return!0}}function ka(a,b){var c=L(),d=oa(a,c),f=e(a);ba(f,"s-stage-sup","true"),d.subs[c]||na(f,d,c);var g=d.subs[c];return d.last=d.curr,d.curr=c,Ac=g.id}function la(a,b,c){function d(a){var b=a.target||a.srcElement;(b===s||b===r)&&f()}function f(){xc&&(xc=!1,Wc(i,"webkitTransitionEnd",d),ba(s,"class",cd),ba(r,"class",cd),s.style.cssText="",r.style.cssText="display:none",qa(),g(),h())}function g(){var a=L();ma(j,a+1),Sc||ma(j,0,a-1)}function h(){c&&c(o.id,n.id,q),Bc=!1,Hb(function(){yc=!1},377)}yc=!0;var i=e(a),j=oa(a),k=j.subs,l=j.last,m=j.curr,n=k[l],o=k[m],p=m>l,q=!1,r=e(n.id),s=e(o.id);if(n!==o){q=o.inStage&&Sc;var t=l>m&&ja();if(Tc&&!t){var u=Fb.clientWidth,v=(Fb.clientHeight,Vc(Eb.body,"backgroundColor"));xc&&xc();var w=p?u:-u/3;s.style.top=0,s.style.left=w+"px",p?(r.style.zIndex=99,s.style.zIndex=100,s.style.boxShadow="0 0 20px 0 rgba(0,0,0,0.40)",s.style.backgroundColor=v):(s.style.zIndex=99,r.style.zIndex=100,r.style.boxShadow="0 0 20px 0 rgba(0,0,0,0.40)",r.style.backgroundColor=v),s.style.display="",zc=!1,xc=f,qa(),Hb(function(){s.style.WebkitTransform="translate3d("+-w+"px, 0, 0)",r.style.WebkitTransform="translate3d("+(p?-u/3:u)+"px, 0, 0)",ba(s,"class",dd),ba(r,"class",dd),vc(i,"webkitTransitionEnd",d)},199)}else Tc&&t?(r.style.display="none",s.style.display="",g(),h()):Hb(function(){r.style.display="none",s.style.display="",g(),h()},366)}else s.style.display="",h();return o&&(o.inStage=!0),q}function ma(a,c,d){var f=a.subs,g=[];d=d===b?f.length-1:d;for(var h=c;d>=h;++h)g.push(f[h]),f[h]=b;Hb(function(){for(var a=0,b=g.length;b>a;++a)if(g[a]){var c=g[a].id;!function(a){Hb(function(){try{ca(a)}catch(b){throw b}finally{X(e(a))}})}(c)}},377)}function na(a,b,c){var d=S(),e=aa("div");e.id=d,ba(e,"class",cd),ba(e,"s-stage-sub","true"),e.innHTML=Uc,e.style.display="none",a.appendChild(e);var f=b.subs;return f[c]={id:d},c>=Rc?(ma(b,0,c-Rc+1),!0):void 0}function oa(a,b){return Xc[a]||(Xc[a]={last:b,curr:b,subs:[]}),Xc[a]}function pa(){var a=[];Tc&&(a.push("body{overflow:hidden;-webkit-overflow-scrolling : touch;}"),a.push("."+$c+"{-webkit-transition: -webkit-transform 0.4s ease-out;transition: transform 0.4s ease-out;}"),a.push("."+bd+"{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;}"),a.push("."+_c+"{position:absolute;top:0;left:0;width:100%;height:100%;overflow-y:auto;-webkit-overflow-scrolling:touch;-webkit-box-sizing : border-box;}")),a.push("."+ad+"{position:fixed!important;}");var b=aa("style");ba(b,"type","text/css"),b.id=Yc,b.innerHTML=a.join(""),Gb.appendChild(b)}function qa(){var a=[];xc&&a.push("."+ad+"{position:absolute!important;}"),zc&&a.push("."+_c+"{overflow-y: visible!important;}");var b=e(Zc);b?b.innerHTML=a.join(""):(b=aa("style"),ba(b,"type","text/css"),b.id=Zc,b.innerHTML=a.join(""),Gb.appendChild(b))}function ra(a){for(var b,c=[],d=/<[a-z]+([^>]*?s-(child)[^>]*?)>/g;b=d.exec(a);){var e=b[1].replace(/\\\"/g,'"'),f=e.replace(/\"/g,"").replace(/ /g,"&"),g=m(f),i=S();g["s-id"]=i,g["s-all"]=e,c.push(g)}return d=h('(class="[^]*?'+_c+'[^]*?")'),(b=d.exec(a))&&c.push({"s-stage-scroll":!0,"s-all":b[1].replace(/\\\"/g,'"'),"s-id":S()}),c}function sa(a,b){for(var c,d,e,f,g=Oc[a],h={},i=0,j=b.length;j>i;i++)f=b[i],f["s-stage-scroll"]||(e=f["s-id"],h=Oc[e]=Oc[e]||{boxId:e,childrenid:{},s_childMap:{},needToTriggerChildren:!1,toDestroyChildrenid:null,forceRender:!1,lastRes:{},fromParent:!0},g.childrenid[e]=!0,h.parentId=a,h.tpl=f["s-tpl"],h.css=f["s-css"],h.data=f["s-data"],h.logic=f["s-logic"],(d=f["s-child"])&&(d="s-child"===d?"":d,d?(c=g.children&&g.children[d],g.s_childMap[d]=e):c=f["s-controller"],Ka(e,c)))}function ta(){}function ua(a){if("object"!==n(a))throw'The method "steel.setExtTplData(obj)" used in your app need an object as the param.';ta.prototype=a,ta.prototype.constructor=ta}function va(a){var c=a.boxId;if(a.dataReady&&a.tplReady&&!a.rendered){var d=a.tplFn,f=a.real_data;if(d&&f){var g=a.html;if(!g){var h=null,i=new ta,j=i;for(var k in f)j[k]=f[k];try{g=d(j)}catch(l){return void U(l)}a.html=g}if(a.cssReady){a.childrenid={};var m=ra(g);a.stageScrollId=b;for(var n=0,o=m.length;o>n;n++)h=m[n],h["s-stage-scroll"]?(a.stageScrollId=h["s-id"],g=g.replace(h["s-all"],h["s-all"]+" id="+h["s-id"])):g=g.replace(h["s-all"]," "+fd+"="+gd+" "+h["s-all"]+" id="+h["s-id"]);a.html=g;var p=e(c);_(a),ca(a.toDestroyChildrenid,!1),p.innerHTML=g,Pc--,a.rendered=!0,Hb(function(){$(a),sa(c,m)}),za(a,!0),0>=Pc&&B("allDomReady")}}}}function wa(a){return a.substr(0,a.lastIndexOf("/")+1)}function xa(a,b){for(b=b&&wa(b),0===a.indexOf(".")&&(a=b?(b+a).replace(/\/\.\//,"/"):a.replace(/^\.\//,""));-1!==a.indexOf("../");)a=a.replace(/\w+\/\.\.\//,"");return a}function ya(a){function b(){a.cssReady=!0,va(a)}var d,e=null,f=null,h=a.css;if(!h)return void b();var i=a.boxId,j=Nc[i],h=xa(a.css,j);if(hd[h])return hd[h][i]=!0,void b();hd[h]={},hd[h][i]=!0;var k=d=function(){k===d&&(f=g(),B("cssTime",{startTime:e,cssTime:f-e||0,ctrlNS:j}),b())};e=g(),h&&td.css(h,k,function(){c('Error: css("'+h+'" load error!'),b()})}function za(a,b){var c=a.boxId,d=Nc[c],e=b&&xa(a.css,d);for(var f in hd)if(e!==f){var g=hd[f];g[c]&&(delete g[c],!function(){for(var a in g)return;td.removeCss(f),delete hd[f]}())}}function Aa(a){var b=a.children||{};for(var c in b)a.s_childMap[c]&&Ka(a.s_childMap[c],b[c])}function Ba(a){ca(a)}function Ca(a){var b,c=Nc[a.boxId],d=null,e=null,f=a.tpl;if(a.tplFn=null,f){if("function"===n(f))return a.tplFn=f,void Da(a);var h=b=function(f){h===b&&(e=g(),B("tplTime",{startTime:d,tplTime:e-d||0,ctrlNS:c}),a.tplFn=f,Da(a))};d=g(),lb(f,h,U,c)}}function Da(a){a.tplReady=!0,va(a)}function Ea(a,b){if(a===b)return!0;if(!(a instanceof Object&&b instanceof Object))return!1;if(a.constructor!==b.constructor)return!1;for(var c in a)if(a.hasOwnProperty(c)){if(!b.hasOwnProperty(c))return!1;if(a[c]===b[c])continue;if("object"!=typeof a[c])return!1;if(!Ea(a[c],b[c]))return!1}for(c in b)if(b.hasOwnProperty(c)&&!a.hasOwnProperty(c))return!1;return!0}function Fa(a){if(a.needToTriggerChildren){var b={};if(a.childrenChanged)for(var c in a.s_childMap)b[a.s_childMap[c]]=!0;for(var d in a.childrenid)if(!b[d]){var e=Mc[d];e&&Ka(d,e._controller)}}a.needToTriggerChildren=!1}function Ga(a,b){var c=a.data,d=Nc[a.boxId],e=null,f=null;if(null===c||"null"===c)return void Ha({},a,b);if(c){var h=n(c);if("object"===h)Ha(c,a,b);else if("string"===h){var i=Hc=function(c){i===Hc&&(f=g(),B("ajaxTime",{startTime:e,ajaxTime:f-e||0,ctrlNS:d}),Ha(c.data,a,b))};e=g(),td.get(c,i,function(b){a.real_data=null,U(b)})}}}function Ha(a,b,c){b.dataReady=!0,b.forceRender||c||!Ea(a,b.real_data)?(b.real_data=a,va(b)):Fa(b)}function Ia(a,b,c){var d=n(c),e=a[b],f=a[b+"Fn"];return a.lastRes&&b in a.lastRes?a.lastRes[b]!==c:"data"===b?!0:"function"===d?!f||f.toString()!==c.toString():"children"===b?!Ea(e,c):e!==c}function Ja(a){function c(){f.needToTriggerChildren=!0,f.cssReady=!0,f.dataReady=!0,f.tplReady=!0,f.logicReady=!0,f.rendered=!0,f.logicRunned=!1;var a,b;f.lastRes={},i={};for(var c=0,e=id.length;e>c;++c)a=id[c],"data"!==a&&(f.lastRes[a]=f[a]),g&&(b=V(g,"s-"+a),b?Ia(f,a,b)&&(i[a]=!0,f[a]=b):a in f&&delete f[a]),f.fromParent&&f[a]&&(i[a]=!0);f.fromParent=!1,d()}function d(){Ib(h),h=Hb(function(){f.lastRes=null;var a=i.tpl,b=i.data,c=i.css,d=i.logic;f.childrenChanged=i.children,i={},a||b?(f.rendered=!1,f.html="",f.toDestroyChildrenid=W(f.childrenid)):Fa(f),a&&(f.tplReady=!1),b&&(f.dataReady=!1),c&&(f.cssReady=!1),d&&(f.logicReady=!1),!f.tpl&&delete f.tplFn,!f.logic&&delete f.logicFn,a&&Ca(f),b&&Ga(f,a),c&&ya(f),d&&Y(f),f.childrenChanged&&Aa(f)})}Pc++;var f=Oc[a]=Oc[a]||{boxId:a,childrenid:{},s_childMap:{},needToTriggerChildren:!1,toDestroyChildrenid:null,forceRender:!1},g=e(a),h=null,i={},j={id:a,setForceRender:function(a){f.forceRender=a},get:function(a,b){var c="";return c},set:function(b,c){if(a){if("object"!==n(b))return(i[b]=Ia(f,b,c))?(f[b]=c,void d()):void(f[b]=c);for(var e in b)j.set(e,b[e])}},on:function(b,c){jd.indexOf(b)>-1&&z(a+b,c)},off:function(b,c){jd.indexOf(b)>-1&&c&&A(a+b,c)},refresh:function(a){f.needToTriggerChildren=!0,a&&(f.real_data=b),i.data=!0,d()},_destroy:function(){for(var c=jd.length-1;c>=0;c--)A(a+jd[c]);a=j._controller=f=g=h=b}};return c(),j}function Ka(a,c){function d(){return kd[j]=b,c&&"string"==typeof c?(Nc[j]=c,l=kd[j]=function(a){l===kd[j]&&a&&(q=g(),B("ctrlTime",{startTime:p,ctrlTime:q-p||0,ctrlNS:m}),kd[j]=b,f(a))},p=g(),void lb(c,l,U)):void f()}function f(d){if(c=d||c,a!==Eb.body){for(var e,f=a.parentNode;f&&f!==Fb&&(!f.id||!(e=Oc[f.id]));)f=f.parentNode;e&&(e.childrenid[j]=!0)}if(k=Mc[j]){if(k._controller===c&&r.indexOf("refresh")>-1)return k.refresh(),void h(!1);if(k._controller)k._destroy(),k=b;else if(!c)return k.refresh(),void h(!1)}Mc[j]=k=k||Ja(j),c&&(k._controller=c,c(k,ld),h(!0))}function h(a){var b=P(od);a&&B(j+"init",b),B(j+"enter",[b,a])}var i,j,k,l,m,n,o,p=null,q=null,r=Qa().type,s=a===Bb;"string"==typeof a?(i=a,a=e(i)):(i=a.id,i||(a.id=i=S())),j=i,s?(j=ka(i,r),n=la(i,"",function(a,b,c){a!==b&&(o=b,B(b+"leave",function(a){a&&Q(od,a)}),c&&-1===r.indexOf("refresh")&&h(!1))}),B("stageChange",[e(j),n]),(!n||r.indexOf("refresh")>-1)&&d()):d()}function La(){nd=L(),vc(Eb,"click",function(a){var b=a.target;Ic=1;var c=Ma(b),d=c&&c.href;!d||0===d.indexOf("javascript:")||"_blank"===c.getAttribute("target")||a.metaKey||a.ctrlKey||a.altKey||a.shiftKey||(G(a),Ta(d))});var b=0;vc(a,"popstate",function(){B("popstate");var a=L();tc=nd>a?"refresh"===tc?"back-refresh":"back":"forward",nd=a;var c=Lb.href;(0!==b||uc!==c)&&Na(c)}),Hb(function(){b=1},1e3)}function Ma(a){return a&&md>Ic?(Ic++,a.tagName&&"a"===a.tagName.toLowerCase()?a:Ma(a.parentNode)):void 0}function Na(a){bc=uc,Q(pd,bc),uc=a,nd=L(),Qa(!0).config?Oa():Lb.reload()}function Oa(){B("routerChange",Qa())}function Pa(){Lc?(Lc=b,Q(od,Kc)):Wa(),Xa()}function Qa(a){return(a||!Jc)&&Xa(),Jc}function Ra(a,b){Ta(a,b)}function Sa(a,b){Ta(a,!0,b)}function Ta(a,b,c){D(b)&&(c=b,b=!1),Kc=c,a=s(Qa().url,a||""),sc&&E(a)?(b?(tc="replace",K(a)):uc!==a?(tc="new",J(a)):tc="refresh",Lc=!0,Pa(),Na(a)):b?Lb.replace(a):Lb.href=a}function Ua(){sc?Ta(Qa().url):Lb.reload()}function Va(a,b,c,d){var e=F(arguments,["url","num","data","refresh"],["string","number","object","boolean"]);return a=e.url,b=e.num,c=e.data,d=e.refresh,Kc=c,b=C(b)&&b>0?b:1,sc?L()<b?(a&&Lb.replace(s(Qa().url,a)),!1):(z("popstate",function f(){A("popstate",f);var b=Qa().url;a=a&&s(b,a),a&&a!==b?E(a)?(tc="refresh",K(a),Xa()):Lb.replace(a):d&&(tc="refresh")}),Lc=!0,history.go(-b),!0):(a?Lb.href=s(Qa().url,a):history.go(-b),!0)}function Wa(){sc&&Q(od,b)}function Xa(){var a=Jc,b=L();Jc=H();var c=Jc.path;Jc.path=Ab?c.replace(/\.(jade)$/g,""):c,Jc.search=Jc.query,Jc.query=m(Jc.query),Jc.type=tc,Jc.prev=bc||P(pd),Jc.transferData=P(od),Jc.state=N(),Jc.index=b,Jc.lastIndex=a?a.index:b;var d=I(Jc);return d&&(Jc.config=d.config,Jc.param=d.param),Jc}function Ya(a,b){switch(b){case"js":path=Xb;break;case"css":path=Yb;break;case"ajax":path=Zb}var c=Qa();if("ajax"===b){var d={},e=c.query;a=a.replace(/\{(.*?)\}/g,function(a,b){return e[b]&&(d[b]=e[b]),""}),a=v(a).setParams(d).toString(),a="/"===a.charAt(0)?a.slice(1):a}var f=Za(path,a,$b,c.url.replace(/\/([^\/]+)$/,"/"));return"js"!==b&&"css"!==b||h("(\\."+b+")$").test(a)||(f+="."+b),f}function Za(a,b,c,d){return s(a||c||d,b)}function $a(a){lc[a]=[]}function _a(a,b,c){lc[a].push([b,c])}function ab(a,b,c){b=b?0:1;for(var d=0,e=lc[a].length;e>d;d++)try{lc[a][d][b](c,a)}catch(f){Hb(function(){lc[a][d][1](c,a)})}}function bb(a){a in lc&&delete lc[a]}function cb(a,b){var c,d,e={},g={charset:"UTF-8",timeout:3e4,args:{},isEncode:!1},h=w();return c=e[h],null==c||Wb||(X(c),c=null),null==c&&(c=e[h]=aa("script")),c.charset=g.charset,c.id="scriptRequest_script_"+h,c.type="text/javascript",null!=b&&(Wb?c.onreadystatechange=function(){if("loaded"==c.readyState.toLowerCase()||"complete"==c.readyState.toLowerCase()){try{Ib(d),f("head")[0].removeChild(c),c.onreadystatechange=null}catch(a){}b(!0)}}:c.onload=function(){try{Ib(d),X(c)}catch(a){}b(!0)}),c.src=v(a,{isEncodeQuery:g.isEncode}).setParams(g.args).toString(),f("head")[0].appendChild(c),g.timeout>0&&(d=Hb(function(){try{f("head")[0].removeChild(c)}catch(a){}b(!1)},g.timeout)),c}function db(a){rd||((rd=aa("div")).style.cssText="position:absolute;top:-9999px;",Gb.appendChild(rd)),rd.appendChild(a)}function eb(a){rd&&rd.removeChild(a)}function fb(b,d,e){var f=aa("link"),g=null,h=(w(),null),i=500;ba(f,"rel","Stylesheet"),ba(f,"type","text/css"),ba(f,"charset","utf-8"),ba(f,"id","link_"+e),ba(f,"href",b),Gb.appendChild(f),g=aa("div"),ba(g,"id",e),db(g),h=function(){return 42===Jb(a.getComputedStyle?getComputedStyle(g,null).height:g.currentStyle&&g.currentStyle.height)?(eb(g),void d(!0)):void(--i>0?Hb(h,10):(c('Error: css("'+b+'" timeout!'),eb(g),d(!1)))},Hb(h,50)}function gb(a){var b=e("link_"+a);return b?(X(b),!0):!1}function hb(b,c){function e(){var a=!1;try{a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(d){a=!1}}}return a}var f={charset:"UTF-8",timeout:3e4,args:{},onComplete:c||d,onTimeout:d,uniqueID:null,onFail:d,method:"get",asynchronous:!0,header:{},isEncode:!1,responseType:"json"};if(""==b)throw"ajax need url in parameters object";var g,h=e(),i=function(){if(4==h.readyState){Ib(g);var c="";if("xml"===f.responseType)c=h.responseXML;else if("text"===f.responseType)c=h.responseText;else try{c=h.responseText&&"string"==typeof h.responseText?a.eval("("+h.responseText+")"):{}}catch(d){c=b+"return error : data error"}200==h.status?null!=f.onComplete&&f.onComplete(c):0==h.status||null!=f.onFail&&f.onFail(c,h)}};if(h.onreadystatechange=i,f.header["Content-Type"]||(f.header["Content-Type"]="application/x-www-form-urlencoded"),f.header["X-Requested-With"]||(f.header["X-Requested-With"]="XMLHttpRequest"),"get"==f.method.toLocaleLowerCase()){var b=v(b,{isEncodeQuery:f.isEncode});b.setParams(f.args),b.setParam("__rnd",(new Date).valueOf()),h.open(f.method,b.toString(),f.asynchronous);try{for(var j in f.header)h.setRequestHeader(j,f.header[j])}catch(k){}h.send("")}else{h.open(f.method,b,f.asynchronous);try{for(var j in f.header)h.setRequestHeader(j,f.header[j])}catch(k){}h.send(o(f.args,f.isEncode))}return f.timeout&&(g=Hb(function(){try{h.abort(),f.onTimeout({},h),callback(!1,{},h)}catch(a){}},f.timeout)),h}function ib(a,b){function d(b,d,e){b&&"100000"==b.code?e(!0,b):(c('Error: res data url("'+a+'") : The api error code is '+(b&&b.code)+". The error reason is "+(b&&b.msg)),e(!1,b,d))}var e=_b||d;return hb(a,function(a,c){e(a,c,b)})}function jb(a,b,c,d,e){function f(a,b){ab(h,a,b),bb(h)}var g=r(b),h=b;if(g||(h=Ya(b,a),"ajax"!==a&&ac&&(h+="?version="+ac)),lc[h])_a(h,c,d);else switch($a(h),_a(h,c,d),a){case"js":cb(h,f);break;case"css":fb(h,f,e);break;case"ajax":ib(h,f)}}function kb(a){return a&&sd+a.replace(/(\.css)$/i,"").replace(/\//g,"_")}function lb(c,d,e,f,g){function h(){if(c.length<=k)if(l)e();else{var f;(g===b||g===!0)&&(f=nb(c)),d&&d.apply(a,f)}}function i(a){ic[a]?(k++,h()):z(kc,function b(c){a===c&&(A(kc,b),k++,h())})}var j,k=0,l=0,m=f&&wa(f);c=[].concat(c);for(var n=0,o=c.length;o>n;n++)j=c[n]=xa(c[n],m),hc[j]?i(j):!function(a){td.js(a,function(){r(a)&&(ic[a]=!0,hc[a]=!0),i(a)},function(){l++})}(j)}function mb(b){function c(c){if("array"===n(c)){var e=T(arguments);return e[3]=e[3]||b,lb.apply(a,e)}if(c=xa(c,d),!ic[c])throw'Error: ns("'+c+'") is undefined!';return jc[c]}var d=wa(b);return c}function nb(d,e){d=[].concat(d);var f,g,h,i,j,k=[];for(f=0,g=d.length;g>f;f++)h=xa(d[f],e),i=gc[h],i?(jc[h]||(fc[h]&&nb(fc[h],wa(h)),j={exports:{}},jc[h]=i.apply(a,[mb(h),j.exports,j])||j.exports),k.push(jc[h])):(c('Warning: ns("'+h+'") has not constructor!'),k.push(b));return k}function ob(a,b,d){function e(){ic[a]=!0,B(kc,a),c('Debug: define ns("'+a+'")')}ic[a]||(hc[a]=!0,fc[a]=d?b||[]:[],gc[a]=d||b,b=fc[a],b.length>0?Hb(function(){lb(b,e,function(){c('Error: ns("'+a+'") deps loaded error!',"")},a,!1)}):e())}function pb(){ha()}function qb(a,b){qc=a("router",qc),sc=Mb?a("singlePage",sc):!1}function rb(a){return a.replace(/([=!:$\/()])/g,"\\$1")}function sb(a,b){return a.keys=b,a}function tb(a){return a.sensitive?"":"i"}function ub(a,b){var c=a.source.match(/\((?!\?)/g);if(c)for(var d=0;d<c.length;d++)b.push({name:d,delimiter:null,optional:!1,repeat:!1});return sb(a,b)}function vb(a,b,c){for(var d=[],e=0;e<a.length;e++)d.push(xb(a[e],b,c).source);var f=h("(?:"+d.join("|")+")",tb(c));return sb(f,b)}function wb(a,b){function c(a,c,e,f,g,h,i,j){if(c)return c;if(j)return"\\"+j;var k="+"===i||"*"===i,l="?"===i||"*"===i;return b.push({name:f||d++,delimiter:e||"/",optional:l,repeat:k}),e=e?"\\"+e:"",g=rb(g||h||"[^"+(e||"\\/")+"]+?"),k&&(g=g+"(?:"+e+g+")*"),l?"(?:"+e+"("+g+"))?":e+"("+g+")"}var d=0;return a.replace(xd,c)}function xb(a,b,c){if(b=b||[],wd(b)?c||(c={}):(c=b,b=[]),a instanceof h)return ub(a,b,c);if(wd(a))return vb(a,b,c);var d=c.strict,e=c.end!==!1,f=wb(a,b),g="/"===a.charAt(a.length-1);return d||(f=(g?f.slice(0,-2):f)+"(?:\\/(?=$))?"),f+=e?"$":d&&g?"":"(?=\\/|$)",sb(h("^"+f,tb(c)),b)}function yb(b,c){var d,e,f;if("object"!=typeof b||b instanceof a.RegExp){var g=[],h=xb(b,g);return rc.push({pathRegexp:h,config:c,keys:g})}f=[];for(d in b)e=b[d],f.push(yb(d,e));return f}function zb(){for(var a=0,b=qc.length;b>a;a++){var c=qc[a];yb(c[0],c)}Wa(),Qa(!0).config&&Oa(),Mb&&sc&&La()}var Ab,Bb,Cb=a.steel||{v:.1,t:g()},Db=navigator.userAgent,Eb=a.document,Fb=Eb.documentElement,Gb=Eb.head||f("head")[0]||Fb,Hb=a.setTimeout,Ib=a.clearTimeout,Jb=a.parseInt,Kb=a.parseFloat,Lb=a.location,Mb=(a.decodeURI,Object.prototype.toString,!!history.pushState),Nb=Db.match(/Web[kK]it[\/]{0,1}([\d.]+)/),Ob=(Nb&&Kb(Nb[1]),Db.match(/(iPhone\sOS)\s([\d_]+)/)),Pb=Ob&&Kb(Ob[2].replace(/_/g,".")),Qb=Db.match(/(Android);?[\s\/]+([\d.]+)?/),Rb=Qb&&Kb(Qb[2]),Sb=Eb.addEventListener,Tb="Debug|Info|Warn|Error|Fatal",Ub="Info",Vb="logNotice",Wb=/msie (\d+\.\d+)/i.test(Db)?Eb.documentMode||+h.$1:0;Mb&&!function(){var a=history.state;history.replaceState(1,b),Mb=1===history.state,history.replaceState(a,b)}();var Xb,Yb,Zb,$b,_b,ac,bc,cc,dc,ec=[],fc={},gc={},hc={},ic={},jc={},kc="-require-defined",lc={},mc=1,nc="SL_"+g(),oc="_N",pc=Cb[oc]=Cb[oc]||{},qc=[],rc=[],sc=!1,tc="init",uc=Lb.toString(),vc=Sb?function(a,c,d,e){a.addEventListener(c,d,e===b?!1:e)}:function(a,b,c){a.attachEvent("on"+b,c)},wc="--steel-stateIndex";M(),z("popstate",M);var xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,Mc={},Nc={},Oc={},Pc=0,Qc=!1,Rc=10,Sc=!1,Tc=!1,Uc="",Vc=a.getComputedStyle?function(a,b){return getComputedStyle(a,"")[b]}:function(a,b){return a.currentStyle&&a.currentStyle[b]},Wc=Sb?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)},Xc={},Yc="steel-style-main",Zc="steel-style-rewrite",$c="steel-stage-transform",_c="steel-render-stage-scroll",ad="steel-render-stage-fixed",bd="steel-stage-sub",cd=bd,dd=$c+" "+bd,ed=/input|textarea/i,fd="s-module",gd="ismodule",hd={},id=["css","tpl","data","logic"],jd=["init","enter","leave","destroy"],kd={},ld={},md=5,nd=b,od="-steel-router-transferData",pd="-steel-router-prevHref",qd={get:Qa,push:Ra,replace:Sa,set:Ta,back:Va,refresh:Ua,clearTransferData:Wa};z("popstate",Pa);var rd,sd="S_CSS_",td={js:function(a,b,c){jb("js",a,b,c)},css:function(a,b,c){jb("css",a,b,c,kb(a))},get:function(a,b,c){jb("ajax",a,b,c)},removeCss:function(a){return gb(kb(a))}},ud="/";j(function(a){Xb=a("jsPath",Xb),Yb=a("cssPath",Yb),Zb=a("ajaxPath",Zb),$b=a("basePath",ud),_b=a("defApiRule",_b),ac=a("version",ac)});var vd={getBox:fa,getScrollBox:ga};j(function(a){Mb&&(Qc=a("dataCache",Qc),(Ob&&Pb>=8&&Nb||Qb&&Rb>=4.4&&Nb)&&(Sc=a("stageCache",Sc),Tc=a("stageChange",Tc),Uc=a("stageDefaultHTML",Uc),Rc=a("stageMaxLength",Rc)))}),j(qb);var wd=Array.isArray?function(a){return Array.isArray(a)}:function(a){return"array"===n(a)},xd=h(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g");j(function(a,b){Ab=a("debug",Ab),Ub=a("logLevel",Ub),b.logLevel||Ab||(Ub="Error"),Bb=a("mainBox",Bb),p(Bb)&&(Bb=e(Bb))}),Cb.d=ob,Cb.res=td,Cb.run=Ka,Cb.stage=vd,Cb.router=qd,Cb.on=z,Cb.off=A,Cb.setExtTplData=ua,Cb.require=lb,Cb.config=i,Cb.boot=function(a){Cb.isDebug=Ab,lb(a,function(){pb(),zb()})},Cb._destroyByNode=function(a){var b,c=a&&a.id;c&&(b=Oc[c])&&(_(b),Ba(b.toDestroyChildrenid))},z("routerChange",function(a){var b=a.config,d=b[1];Ka(Bb,d),c("Info: routerChange",Bb,d,a.type)}),a.steel=Cb}(window);